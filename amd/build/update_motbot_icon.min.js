define ("mod_motbot/update_motbot_icon",["exports"],function(a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;function b(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}if(h.done){b(i)}else{Promise.resolve(i).then(d,e)}}function c(a){return function(){var c=this,d=arguments;return new Promise(function(e,f){var i=a.apply(c,d);function g(a){b(i,e,f,g,h,"next",a)}function h(a){b(i,e,f,g,h,"throw",a)}g(void 0)})}}var h=function(){var a=c(regeneratorRuntime.mark(function a(b,c,e){var g;return regeneratorRuntime.wrap(function(a){while(1){switch(a.prev=a.next){case 0:a.next=2;return d(b,c);case 2:g=a.sent;f(g,e);case 4:case"end":return a.stop();}}},a)}));return function(){return a.apply(this,arguments)}}();a.init=h;function d(){return e.apply(this,arguments)}function e(){e=c(regeneratorRuntime.mark(function a(b,c){var d;return regeneratorRuntime.wrap(function(a){while(1){switch(a.prev=a.next){case 0:a.next=2;return fetch("/mod/motbot/get_motbot_state.php?motbotid="+b+"&contextid="+c);case 2:d=a.sent;a.next=5;return d.json();case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop();}}},a)}));return e.apply(this,arguments)}function f(a,b){var c=g();if(b!=a){if(a){c.src="/mod/motbot/pix/icon.svg"}else{c.src="/mod/motbot/pix/icon-unhappy.svg"}}}function g(){return document.querySelector(".motbot .activityinstance img")}});
//# sourceMappingURL=update_motbot_icon.min.js.map
